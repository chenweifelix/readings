---
title: "Authors_Years"
subtitle: "Pub_title"
date:  "Last update at: `r format(Sys.time(), '%Y-%m-%d')`"
output: 
  html_notebook:
    toc: true
    toc_float: true
    theme: readable
    smooth_scroll: yes
    css: ../style.css

---

```{r echo=FALSE, message=FALSE}
library(tidyverse)
source("~/Desktop/Academy/Readings/functions.R")
```

```{css echo=FALSE}
.btn-group{
  display:none;
}
```

[Back to index](../index.nb.html)

# Abstract / Key Points

-----
[Back to index](../index.nb.html)

`r colored("")`
<img src="Screenshots.png" width=80%>


```{r echo=FALSE, results='hide'}
empty_file = "Empty.Rmd"
new_article = "Miller_1969"
article_tile = "Psychology as a means of promoting human welfare. American Psychologist, 24(12), 1063â€“1075. https://doi.org/10.1037/h0028988"
new_new_article_md = stringr::str_c(new_article,".Rmd")
new_folder_path = stringr::str_c("./", new_article)

old_path = stringr::str_c("./", new_article, "/", empty_file)
new_path = stringr::str_c("./", new_article, "/", new_new_article_md)

result = tryCatch( dir.create(new_folder_path), 
                      error = function(e) e, 
                      warning = function(w) w )
if (inherits(result,"warning")){ #create a new folder
  warning("Folder already exists")
  
}else{
  print("Folder created")
  file.copy(empty_file, new_article) #move the current file to that folder 
  file.rename(old_path, new_path) #rename the current file 
  text = readLines(new_path) # Change the title and subtitle
  text[2] = paste("title: ", paste0("'",new_article, "'"))
  text[3] = paste("subtitle: ", paste0("'", article_tile, "'"))
  text = text[1:36] # Femove this chunk
  writeLines(text, new_path)
}

# Open file in editor and finder 
run_zsh_command <- function(command) {
  args <- c("-c", shQuote(paste("source ~/.zshrc &&", command)))
  system2("zsh", args = args)
}
run_zsh_command(paste("code ", new_path))
system2("open", new_folder_path)
```















  

